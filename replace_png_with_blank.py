import os
from PIL import Image
import json
from tqdm import tqdm

def log_progress(log_path, status, info):
    entry = {"status": status, "info": info}
    with open(log_path, "a", encoding="utf-8") as f:
        f.write(json.dumps(entry) + "\n")

def replace_with_blank_png(main_folder, output_folder, target_files):
    target_files = [f.lower() for f in target_files]
    replaced_count = 0
    os.makedirs(output_folder, exist_ok=True)
    log_path = os.path.join(output_folder, "process_log.json")

    all_files = []
    for root, _, files in os.walk(main_folder):
        for file in files:
            if file.lower() in target_files and file.lower().endswith(".png"):
                all_files.append(os.path.join(root, file))

    print(f"üßæ Found {len(all_files)} target PNGs to process.\n")

    for file_path in tqdm(all_files, desc="Processing PNGs", unit="file"):
        log_progress(log_path, "processing", file_path)
        try:
            with Image.open(file_path) as img:
                width, height = img.size

            relative_path = os.path.relpath(file_path, main_folder)
            out_path = os.path.join(output_folder, relative_path)
            os.makedirs(os.path.dirname(out_path), exist_ok=True)

            blank_img = Image.new("RGBA", (width, height), (0, 0, 0, 0))
            blank_img.save(out_path, "PNG")

            replaced_count += 1
            log_progress(log_path, "done", out_path)

        except Exception as e:
            log_progress(log_path, "error", {"file": file_path, "error": str(e)})
            tqdm.write(f"‚ùå Error with {file_path}: {e}")

    print(f"\nüéâ Done! {replaced_count}/{len(all_files)} PNG(s) were replaced with blank RGBA images.")
    print(f"üìÑ Log saved at: {log_path}")
    print(f"üìÅ Output folder: {output_folder}")

# === CONFIG ===
MAIN_FOLDER = r"C:\Users\pc\Desktop\fanimation - Copy"
OUTPUT_FOLDER = os.path.join(MAIN_FOLDER, "blank_output")

TARGET_PNGS = [
    "7852931.png", "7852932.png", "7860502.png",
    "7852925.png", "7852926.png", "7860504.png",
    "7852937.png", "7852938.png", "7860497.png",
    "7852943.png", "7852944.png", "7860500.png",
    "7853129.png", "7853130.png", "7860595.png",
    "7853117.png", "7853118.png", "7860587.png",
    "7853111.png", "7853112.png", "7860586.png",
    "7853105.png", "7853106.png", "7860588.png",
    "7853123.png", "7853124.png", "7860590.png",
    "7854428.png", "7854429.png", "7861239.png",
    "7854434.png", "7854435.png", "7861238.png",
    "7854410.png", "7854411.png", "7861230.png",
    "7854416.png", "7854417.png", "7861231.png",
    "7854422.png", "7854423.png", "7861232.png",
    "7850789.png", "7850790.png", "7859471.png",
    "7850795.png", "7850796.png", "7859474.png",
    "7850783.png", "7850784.png", "7859469.png",
    "7856052.png", "7856053.png", "7862040.png",
    "7856058.png", "7856059.png", "7862041.png",
    "7856064.png", "7856065.png", "7862038.png",
    "7853175.png", "7853176.png", "7860607.png",
    "7853159.png", "7853160.png", "7860608.png",
    "7853171.png", "7853172.png", "7860610.png",
    "7853153.png", "7853154.png", "7860611.png",
    "7853165.png", "7853166.png", "7860617.png",
    "7853147.png", "7853148.png", "7860620.png",
    "7853717.png", "7853718.png", "7860877.png",
    "7853711.png", "7853712.png", "7860876.png",
    "7853693.png", "7853694.png", "7860869.png",
    "7853687.png", "7853688.png", "7860870.png",
    "7853699.png", "7853700.png", "7860871.png",
    "7853705.png", "7853706.png", "7860874.png",
    "7855340.png", "7855341.png", "7861693.png",
    "7855368.png", "7855369.png", "7861694.png",
    "7855352.png", "7855353.png", "7861696.png",
    "7855364.png", "7855365.png", "7861699.png",
    "7855346.png", "7855347.png", "7861688.png",
    "7855358.png", "7855359.png", "7861689.png",
    "7851880.png", "7851881.png", "7859983.png",
    "7851874.png", "7851875.png", "7859970.png",
    "7851886.png", "7851887.png", "7859972.png",
    "7851898.png", "7851899.png", "7859971.png",
    "7851892.png", "7851893.png", "7859974.png",
    "7851868.png", "7851869.png", "7859975.png",
    "7850821.png", "7850822.png", "7859487.png",
    "7850803.png", "7850804.png", "7859477.png",
    "7850815.png", "7850816.png", "7859480.png",
    "7850831.png", "7850832.png", "7859485.png",
    "7850827.png", "7850828.png", "7859486.png",
    "7850809.png", "7850810.png", "7859479.png",
    "7853357.png", "7853358.png", "7860709.png",
    "7853351.png", "7853352.png", "7860699.png",
    "7853345.png", "7853346.png", "7860698.png",
    "7853363.png", "7853364.png", "7860702.png",
    "7853369.png", "7853370.png", "7860703.png",
    "7853373.png", "7853374.png", "7860704.png",
    "7854625.png", "7854626.png", "7861338.png",
    "7854613.png", "7854614.png", "7861345.png",
    "7854619.png", "7854620.png", "7861329.png",
    "7854631.png", "7854632.png", "7861330.png",
    "7854637.png", "7854638.png", "7861331.png",
    "7854643.png", "7854644.png", "7861332.png",
    "7855525.png", "7855526.png", "7861775.png",
    "7855541.png", "7855542.png", "7861778.png",
    "7855519.png", "7855520.png", "7861785.png",
    "7855531.png", "7855532.png", "7861788.png",
    "7855537.png", "7855538.png", "7861789.png",
    "7856920.png", "7856921.png", "7862469.png",
    "7856908.png", "7856909.png", "7862474.png",
    "7856914.png", "7856915.png", "7862476.png",
    "7856926.png", "7856927.png", "7862485.png",
    "7856932.png", "7856933.png", "7862465.png",
    "7856938.png", "7856939.png", "7862466.png",
    "7852511.png", "7852512.png", "7860289.png",
    "7852517.png", "7852518.png", "7860290.png",
    "7852535.png", "7852536.png", "7860292.png",
    "7852529.png", "7852530.png", "7860291.png",
    "7852541.png", "7852542.png", "7860294.png",
    "7852523.png", "7852524.png", "7860300.png",
    "7852253.png", "7852254.png", "7860163.png",
    "7852223.png", "7852224.png", "7860146.png",
    "7852241.png", "7852242.png", "7860149.png",
    "7852235.png", "7852236.png", "7860148.png",
    "7852247.png", "7852248.png", "7860156.png",
    "7852229.png", "7852230.png", "7860160.png",
    "7857064.png", "7857065.png", "7862537.png",
    "7857052.png", "7857053.png", "7862542.png",
    "7857070.png", "7857071.png", "7862544.png",
    "7857046.png", "7857047.png", "7862534.png",
    "7857058.png", "7857059.png", "7862535.png",
    "7855651.png", "7855652.png", "7861842.png",
    "7855663.png", "7855664.png", "7861844.png",
    "7855669.png", "7855670.png", "7861846.png",
    "7855657.png", "7855658.png", "7861847.png",
    "7855645.png", "7855646.png", "7861840.png",
    "7851263.png", "7851264.png", "7859382.png",
    "7851269.png", "7851270.png", "7859378.png",
    "7851275.png", "7851276.png", "7859380.png",
    "7851257.png", "7851258.png", "7859377.png",
    "7851281.png", "7851282.png", "7859383.png",
    "7853873.png", "7853874.png", "7860962.png",
    "7853867.png", "7853868.png", "7860960.png",
    "7853879.png", "7853880.png", "7860963.png",
    "7854362.png", "7854363.png", "7861206.png",
    "7854366.png", "7854367.png", "7861211.png",
    "7854370.png", "7854371.png", "7861208.png",
    "7854358.png", "7854359.png", "7861202.png",
    "7856147.png", "7856148.png", "7862074.png",
    "7856111.png", "7856112.png", "7862085.png",
    "7856135.png", "7856136.png", "7862069.png",
    "7856141.png", "7856142.png", "7862070.png",
    "7856104.png", "7856106.png", "7862062.png",
    "7856098.png", "7856099.png", "7862063.png",
    "7856117.png", "7856118.png", "7862064.png",
    "7856123.png", "7856124.png", "7862066.png",
    "7856129.png", "7856130.png", "7862067.png",
    "7856145.png", "7856146.png", "7862072.png",
    "7851331.png", "7851332.png", "7859693.png",
    "7851325.png", "7851326.png", "7859705.png",
    "7851335.png", "7851336.png", "7859706.png",
    "7851337.png", "7851338.png", "7859704.png",
    "7851307.png", "7851308.png", "7859687.png",
    "7851313.png", "7851314.png", "7859690.png",
    "7851319.png", "7851320.png", "7859691.png",
    "7851301.png", "7851302.png", "7859698.png",
    "7851295.png", "7851296.png", "7859683.png",
    "7851289.png", "7851290.png", "7859681.png",
    "7855870.png", "7855871.png", "7861954.png",
    "7855906.png", "7855907.png", "7861959.png",
    "7855888.png", "7855889.png", "7861971.png",
    "7855894.png", "7855895.png", "7861949.png",
    "7855864.png", "7855865.png", "7861944.png",
    "7855876.png", "7855877.png", "7861947.png",
    "7855882.png", "7855883.png", "7861946.png",
    "7855900.png", "7855901.png", "7861950.png",
    "7855910.png", "7855911.png", "7861952.png",
    "7855912.png", "7855913.png", "7Next?",
    "7852757.png", "7852758.png", "7860420.png",
    "7852793.png", "7852794.png", "7860421.png",
    "7852803.png", "7852804.png", "7860425.png",
    "7852799.png", "7852800.png", "7860431.png",
    "7852787.png", "7852788.png", "7860430.png",
    "7852805.png", "7852806.png", "7860435.png",
    "7852763.png", "7852764.png", "7860414.png",
    "7852769.png", "7852770.png", "7860413.png",
    "7852781.png", "7852782.png", "7860417.png",
    "7852775.png", "7852776.png", "7860415.png",
    "7853531.png", "7853532.png", "7860790.png",
    "7853501.png", "7853502.png", "7860773.png",
    "7853507.png", "7853508.png", "7860775.png",
    "7853537.png", "7853538.png", "7860785.png",
    "7853495.png", "7853496.png", "7860774.png",
    "7853489.png", "7853490.png", "7860770.png",
    "7853525.png", "7853526.png", "7860778.png",
    "7853519.png", "7853520.png", "7860779.png",
    "7853513.png", "7853514.png", "7860776.png",
    "7853541.png", "7853542.png", "7860781.png",
    "7855156.png", "7855157.png", "7861598.png",
    "7855150.png", "7855151.png", "7861615.png",
    "7855180.png", "7855181.png", "7861613.png",
    "7855162.png", "7855163.png", "7861600.png",
    "7855168.png", "7855169.png", "7861604.png",
    "7855192.png", "7855193.png", "7861611.png",
    "7855196.png", "7855197.png", "7861612.png",
    "7855186.png", "7855187.png", "7861610.png",
    "7855174.png", "7855175.png", "7861606.png",
    "7855144.png", "7855145.png", "7861594.png",
    "7855689.png", "7855690.png", "7861861.png",
    "7855695.png", "7855696.png", "7861866.png",
    "7855719.png", "7855720.png", "7861867.png",
    "7855707.png", "7855708.png", "7861868.png",
    "7855726.png", "7855727.png", "7861869.png",
    "7855713.png", "7855714.png", "7861875.png",
    "7855701.png", "7855702.png", "7861876.png",
    "7855730.png", "7855731.png", "7861877.png",
    "7855683.png", "7855684.png", "7861859.png",
    "7855677.png", "7855678.png", "7861858.png",
    "7852073.png", "7852074.png", "7860081.png",
    "7852043.png", "7852044.png", "7860057.png",
    "7852049.png", "7852050.png", "7860059.png",
    "7852055.png", "7852056.png", "7860060.png",
    "7852067.png", "7852068.png", "7860067.png",
    "7852079.png", "7852080.png", "7860066.png",
    "7852085.png", "7852086.png", "7860069.png",
    "7852091.png", "7852092.png", "7860071.png",
    "7852061.png", "7852062.png", "7860061.png",
    "7852095.png", "7852096.png", "7Example?",
    "7854037.png", "7854038.png", "7861044.png",
    "7854019.png", "7854020.png", "7861047.png",
    "7853995.png", "7853996.png", "7861023.png",
    "7854001.png", "7854002.png", "7861024.png",
    "7854013.png", "7854014.png", "7861027.png",
    "7854007.png", "7854008.png", "7861028.png",
    "7854025.png", "7854026.png", "7861031.png",
    "7854031.png", "7854032.png", "7861030.png",
    "7854047.png", "7854048.png", "7861034.png",
    "7854043.png", "7854044.png", "7861033.png",
    "7851700.png", "7851701.png", "7859902.png",
    "7851688.png", "7851689.png", "7859878.png",
    "7851694.png", "7851695.png", "7859880.png",
    "7851712.png", "7851713.png", "7859883.png",
    "7851706.png", "7851707.png", "7859882.png",
    "7851724.png", "7851725.png", "7859885.png",
    "7851718.png", "7851719.png", "7859884.png",
    "7851730.png", "7851731.png", "7Next?",
    "7851740.png", "7851741.png", "7859887.png",
    "7851736.png", "7851737.png", "7859891.png",
    "7854974.png", "7854975.png", "7861505.png",
    "7854968.png", "7854969.png", "7861506.png",
    "7854987.png", "7854988.png", "7861507.png",
    "7854962.png", "7854963.png", "7861512.png",
    "7855005.png", "7855006.png", "7861513.png",
    "7854999.png", "7855000.png", "7861517.png",
    "7854981.png", "7854982.png", "7861500.png",
    "7854993.png", "7854994.png", "7861502.png",
    "7855011.png", "7855012.png", "7861503.png",
    "7855015.png", "7855016.png", "7861504.png",
    "7856308.png", "7856309.png", "7862171.png",
    "7856302.png", "7856303.png", "7862174.png",
    "7856332.png", "7856333.png", "7862170.png",
    "7856296.png", "7856297.png", "7862160.png",
    "7856320.png", "7856321.png", "7Example?",
    "7856314.png", "7856315.png", "7862163.png",
    "7856326.png", "7856327.png", "7862167.png",
    "7854791.png", "7854792.png", "7861418.png",
    "7854773.png", "7854774.png", "7861427.png",
    "7854797.png", "7854798.png", "7861412.png",
    "7854785.png", "7854786.png", "7861411.png",
    "7854779.png", "7854780.png", "7861410.png",
    "7854801.png", "7854802.png", "7861414.png",
    "7854805.png", "7854806.png", "7861413.png",
    "7856498.png", "7856499.png", "7862265.png",
    "7856480.png", "7856481.png", "7862266.png",
    "7856486.png", "7856487.png", "7862252.png",
    "7856474.png", "7856475.png", "7862248.png",
    "7856492.png", "7856493.png", "7862254.png",
    "7856504.png", "7856505.png", "7862255.png",
    "7856510.png", "7856511.png", "7862256.png",
    "7854228.png", "7854229.png", "7861136.png",
    "7854232.png", "7854233.png", "7861134.png",
    "7854212.png", "7854213.png", "7861128.png",
    "7854218.png", "7854219.png", "7861129.png",
    "7854206.png", "7854207.png", "7Next?",
    "7854200.png", "7854201.png", "7861124.png",
    "7854224.png", "7854225.png", "7861133.png",
    "7852373.png", "7852374.png", "7860232.png",
    "7852391.png", "7852392.png", "7860230.png",
    "7852385.png", "7852386.png", "7860233.png",
    "7852355.png", "7852356.png", "7860213.png",
    "7852379.png", "7852380.png", "7860215.png",
    "7852361.png", "7852362.png", "7860211.png",
    "7852367.png", "7852368.png", "7860212.png",
    "7854451.png", "7854452.png", "7861251.png",
    "7854469.png", "7854470.png", "7861253.png",
    "7854457.png", "7854458.png", "7861259.png",
    "7854473.png", "7854474.png", "7861263.png",
    "7854444.png", "7854445.png", "7861262.png",
    "7854463.png", "7854464.png", "7861245.png",
    "7854477.png", "7854478.png", "7861246.png",
    "7850660.png", "7850661.png", "7859397.png",
    "7850648.png", "7850649.png", "7859392.png",
    "7850642.png", "7850643.png", "7859400.png",
    "7850630.png", "7850631.png", "7859402.png",
    "7850624.png", "7850625.png", "7859401.png",
    "7850654.png", "7850655.png", "7859394.png",
    "7852621.png", "7852622.png", "7860339.png",
    "7852615.png", "7852616.png", "7860343.png",
    "7852627.png", "7852628.png", "7860346.png",
    "7852609.png", "7852610.png", "7860353.png",
    "7852631.png", "7852632.png", "7860354.png",
    "7852603.png", "7852604.png", "7860335.png",
    "7852635.png", "7852636.png", "7860337.png",
]

replace_with_blank_png(MAIN_FOLDER, OUTPUT_FOLDER, TARGET_PNGS)